stages:                      # DVC pipeline stages
  data_ingestion:    # components
    cmd: python3 src/data_ingetion.py       # terminal command
    deps:                  # dependencies
    - src/data_ingetion.py

    params:
    - data_ingestion.test_size

    outs:                 # output dir or file
    - Data/raw

  data_preprocessing:
    cmd: python3 src/data_preprocessing.py
    deps:
    - Data/raw
    - src/data_preprocessing.py

    outs:
    - Data/preprocessed

  model_training:
    cmd: python3 src/model_training.py
    deps:
    - Data/preprocessed
    - src/data_preprocessing.py
    - src/model_training.py

    params:
    - model_training.models

    outs:
    - Data/models

  model_evaluation:
    cmd: python3 src/model_evaluation.py
    deps:
    - Data/models
    - src/model_evaluation.py

    params:
    - model_training.models

    outs:
    - Data/model_performance_metrics.csv
params:
- params.yaml
- dvclive/params.yaml
metrics:
- dvclive/metrics.json
plots:
- dvclive/plots/metrics:
    x: step
